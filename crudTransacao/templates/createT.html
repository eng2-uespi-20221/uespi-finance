{% extends 'layouts/base.html' %}
{% block menu_transaction %}selected{% endblock menu_transaction %}
{% block content %}
{% load static %}
<head>
    <link rel="stylesheet" href="{% static 'estilo2.css' %}">
</head>

<body>
    <div class="form-container2">
        <h3 id="tit-crudbox">CADASTRAR NOVA TRANSAÇÃO</h3>
        <form id="form_create" class="form-crud" action="{% url 'vcreate' %}" method="POST">
            {% csrf_token %}
            <div class="row-form">
                <div class="input">
                    <label for="descricao">Descrição</label>
                    <input type="text" name="descricao" id="descricao" value="" autofocus>
                </div>

                <div class="input">
                    <span>Valor</span>
                    <input type="number" name="valor" id="valor" value="">
                </div>

                <div class="input">
                    <span>Categoria</span>
                    <select name="categoria" id="categoria">
                    {% for category in categories %}
                    <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                    </select>
                </div>

            </div>
            <div class="row-form">
                <div class="input">
                    <button type="submit" id="salvar" class="enviar" name="form-salvar">Salvar</button>
                </div>
            </div>
        </form>
<script>
    document.getElementById("form_create").addEventListener("submit", function(e){
        var descricao = document.getElementById("descricao").value;
        var valor = document.getElementById("valor").value;
        var categoria = document.getElementById("categoria").value;
        var tipo_transacao = document.getElementsByName("tipo_transacao");
        if (!descricao || !valor || !categoria) {
            alert("Por favor, preencha todos os campos corretamente");
            e.preventDefault();
        }
    });
</script>
</body> 
{% endblock content %}


